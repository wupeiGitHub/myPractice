<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>类型隐式转换</title>
		<script>
			//1.得出[] == ![]的值
			//解析过程：1）[]==![]
				//2)  ---->(优先级：!优先级高于==) []==false 相当于，Number([])为0，Number(false)为0
				//3) ----->(两边类型不一致时，隐式转换为Number后再比较)   0==0   --->//true
			console.log("[] == ![] ", [] == ![]); //true
			//-------------------执行过程解析----------------
			//console.log("[] == [] ", [] == []); //false 对象和对象是不相等的，引用地址不一样
			//因为 [] 是对象，比较过程依ToPrimitive([]) == false 比较。ToPrimitive 默认是调用 toString 方法的，
			//于是 ToPrimitice([]) 等于空字符串，即''==false，然后ToNumber('')==0，即0==0，true。
			console.log("[].toString()", [].toString()); //空
			console.log("[]+''", []+''); //空
			console.log("Number([])", Number([])); //0
			console.log("Number('')", Number('')); //0
			console.log("Number('[]')", Number('[]')); //NaN
			console.log("[]  =》", !![]); //true- 双叹号表示把值转为boolean值, 类似强转Boolean([]) 
			console.log("Boolean([])  =》", Boolean([]) ); 
			console.log("![] =》", ![]); //false
			console.log(' [].valueOf() ', [].valueOf()); //[]
			console.log(' typeof [].valueOf() ', typeof [].valueOf()); //object
			console.log([].toString()); //''
			
			//--------------------有数字和字符串的比较-----------------------------
			console.log("3"==3); // 3=3 true
			console.log("1"==true); //1 = 1 true
			
			//--------------------对象的比较-----------------------------
			var obj = {
				 webName: "脚本之家",
				 url:"softwhy.com"
			}
			console.log(obj.toString()); //[object Object]
			console.log(obj.valueOf()); //{webName: "脚本之家", url: "softwhy.com"}
			
			var arr = [1, 2, 3];
			console.log(arr.valueOf()); //[1, 2, 3]
			console.log(arr.toString()); //1,2,3
			
			
			

			var arr = [];
			//arr.valueOf = function () { return "1"; }
			//arr.toString = function () { return "2"; }
			console.log(arr + "1"); //11 它值调用valueOf方法不调用toString方法
			
			var arr = [2];
			console.log(arr + "1");
			
			//大多数对象隐式转换为值类型都是首先尝试调用valueOf()方法。
			//但是Date对象是个例外，此对象的valueOf()和toString()方法都经过精心重写，默认是调用toString()方法，
			//比如使用+运算符，如果在其他算数运算环境中，则会转而调用valueOf()方法。
			
			var date = new Date();
			console.log("date-------------------");     
			console.log(date + "1");
			console.log(date + 1);
			console.log(date - 1);
			console.log(date * 1);
			
			
			//注意typeof和+ - 一样，是运算符，可以使用括号也可以不使用括号
			var a=true,b=true;
			console.log(" typeof a==b 返回值", typeof a==b); //false 
			console.log(" typeof a  返回值 ", typeof a); 
			//上面的执行步骤是， (typeof a) == b >>>>  boolean == true  >>>> false
			console.log(" typeof (a==b) 返回值 ", typeof (a==b)); //boolean
		</script>
	</head>
	<body>
	</body>
</html>
