<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<script>
			//----------去重方式思路1: 新定义一个数组，拿新数组和旧数组的值进行对比，如果没有相同的就push进新数组中
			//定义一个新数组
			var oldArr = [1, 3, 3, 5, 8, 9, 6,7 ,7, 10, 9, 3, 4]; //字声明方式声明数组
			var newArr = [];
			for1 :for(var i=0; i<oldArr.length; i++){
				var isPush = true;
				for2 :for(var j=0; j<newArr.length; j++){
					//发现老数组和新数组的值有相等就跳出新数组的循环
					if(oldArr[i] == newArr[j]){
						isPush = false; 
						break for2;
					}
				}
				if(isPush){
					newArr.push(oldArr[i]);
				}
			}
			//console.log("去重前的原数组 ", oldArr);
			//console.log("去重后的新数组", newArr);
			
			//---------思路2： 在老数组的中拿出一个值，把这个值和老数组后面的每一项进行比较。
			var newArr = [];
			for(var i=0; i<oldArr.length; i++){
				for(var k=i+1; k<oldArr.length; k++){
					//发现i项和k项值相同，就把k项值改为i+1。表示直接跳过当前k项的循环对比。
					if(oldArr[i] === oldArr[k]){
						k = ++i; 
					}
				}
				newArr.push(oldArr[i]);
			}
			//console.log("去重前的原数组 ", oldArr);// [1, 3, 3, 5, 8, 9, 6, 7, 7, 10, 9, 3, 4]
			//console.log("去重后的新数组", newArr);//[1, 5, 8, 6, 7, 10, 9, 3, 4]*/
			
			
			//------思路3：在老数组中的值进行对比，从数组中拿出一项和后面的每一项对比，如果发现有相同值就把相同的这一项移除
			var oldArr = [1, 3, 3, 5, 8, 9, 6,7 ,7, 10, 9, 3, 4]; //字声明方式声明数组
			//console.log("去重前的原数组 ", oldArr);// [1, 3, 3, 5, 8, 9, 6, 7, 7, 10, 9, 3, 4]
			for(var i=0; i<oldArr.length; i++){
				for(var k=i+1; k<oldArr.length; k++){
					if(oldArr[i] == oldArr[k]){ //发现相同
						oldArr.splice(k,1); //对原数组进行删除,把k项删除掉
						k--; //删数一项值后需要把循环的下标减掉1，防止下标越界
					}
				}
			}
			//console.log("去重后的新数组", oldArr);//[1, 5, 8, 6, 7, 10, 9, 3, 4]
			
			
			//----------思路4：利用对象的的属性值不能重复的规则，实现去重
			var oldArr = [1, 3, 3, 5, 8, 9, 6,7 ,7, 10, 9, 3, 4]; //字声明方式声明数组
			var obj = {};
			var newArr = []; //
			for(var i=0; i<oldArr.length; i++){
				//如果能查找到，证明数组元素重复了
				//找不到时我们往新数组中填值
				//obj[oldArr[i]]= undefined, !undefined == true 可写成if(obj[oldArr[i] === undefined || obj[oldArr[i] === null]){
				if(!obj[oldArr[i]]){  
			      obj[oldArr[i]] = true;
			      newArr.push(oldArr[i]);
			    }
				//console.log(obj);
			}
			//console.log("去重前的原数组 ", oldArr);// [1, 3, 3, 5, 8, 9, 6, 7, 7, 10, 9, 3, 4]
			//console.log("去重后的新数组", newArr);//[1, 5, 8, 6, 7, 10, 9, 3, 4]
			
			//-------思路4的变换：利用对象的的属性值不能重复的规则和数组原型，实现去重
			/*Array.prototype.distinct = function (){
				var arr = this,
				    i,
				    obj = {},
				    result = [],
				    len = arr.length;
				for(i = 0; i< arr.length; i++){
					if(!obj[arr[i]]){  //如果能查找到，证明数组元素重复了
					  obj[arr[i]] = 1;
					  result.push(arr[i]);
					}
				}
				return result;
			};
			var a = [1,2,3,4,5,6,5,3,2,4,56,4,1,2,1,1,1,1,1,1,];
			var b = a.distinct();
			console.log(b.toString()); //1,2,3,4,5,6,56*/
			
			//--------思略4的变换写法
			Array.prototype.unique = function(){
				var tmp = {},res=[];
				this.forEach(function(i){
					!tmp[i] && res.push(i) && (tmp[i] = true);
				})
				return res;
			}
			var list = [0,0,1,2,3,6,6];
			console.log(list.unique());    //[0,1,2,3,6]
			
			//思路5类似思路2： 先对数组进行排序，再把数组的第一项和后面的每一项进行对比。重复就移除
			/*var oldArr = [1, 3, 3, 5, 8, 9, 6,7 ,7, 10, 9, 9, 3,9, 4,3]; 
			console.log("原数组 ", oldArr);
			//对老数组先进行排序
			var sortArr = oldArr.sort((a,b)=>(a-b));  //[1, 3, 3, 3, 4, 5, 6, 7, 7, 8, 9, 9, 10]
			console.log("排序后的数组 ", sortArr);
			//再对排序好的新数组进行循环比较
			for(var i=0; i<sortArr.length; i++){
				if(sortArr[i] == sortArr[i+1]){ //每一项和每一项后的数进行比较
					console.log('i = ',i)
					sortArr.splice(i,1); //对原数组进行删除,把k项删除掉
					console.log("删除后新数组", sortArr);// [1, 3, 3, 4, 5, 6, 7, 8, 9, 10]
				}
			}
			console.log("去重后的新数组", sortArr);// [1, 3, 3, 4, 5, 6, 7, 8, 9, 10]*/
			
			function removeSame(sortArr){
				for(var i=0; i<sortArr.length; i++){
					if(sortArr[i] == sortArr[i+1]){ //每一项和每一项后的数进行比较
						console.log('i = ',i)
						sortArr.splice(i,1); //对原数组进行删除,把当前项删除掉
						console.log("删除后新数组", sortArr);// [1, 3, 3, 4, 5, 6, 7, 8, 9, 10]
					}
					if(sortArr[i+1] == sortArr[i+2]){ 
						sortArr.splice(i+1,1); //对原数组进行删除,把当前项删除掉
					}
				}
				return sortArr;
			}
			var newArr = removeSame([1, 3, 3, 3, 4, 5, 6, 7, 8, 9, 10]);
			console.log("newArr----------", newArr);  //
			
			//ES6的新增方法 1)set方法
			var oldArr = [1, 3, 3, 5, 8, 9, 6,7 ,7, 10, 9, 9, 3,9, 4,3]; 
			//console.log("set对象：", new Set(oldArr)); //转换为set对象
			var newArr = Array.from(new Set(oldArr)); //用from把对象转成数组
			console.log(newArr); // [1, 3, 5, 8, 9, 6, 7, 10, 4]
			
			//ES6的新增方法 2)扩展运算符...
			var newArr2 = [...(new Set(oldArr))]; 
			console.log(newArr2);  // [1, 3, 5, 8, 9, 6, 7, 10, 4]
			
			
			
			
		</script>
	</head>
	<body>
	</body>
</html>
