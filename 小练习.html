<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script type="text/javascript">

  function Person(name) {
		say(name);
    switch (name) {
      case 'Li':
      case 'Dan':
      case 'Jerry':
      case 'Smith':
         return this;
    }
  }

  sleepFirst = function (time) {
    setTimeout(function () {
      console.log('等待' + (time / 1000) + '秒');
			wake(time);
    }, time); 
    return this;
  };
  eat = function (type) {
    console.log('Eat ' + type + '~');
    return this;
  };
  wake = function (time) {
    console.log('Wake up after ' + (time / 1000));
    return this;
  };

  function sleep(time) {
    var start = (new Date()).getTime();
    while ((new Date()).getTime() - start < time) {
      continue;
    }
    console.log('等待' + (time / 1000) + '秒');
    wake(time);
    return this;
  }

  say = function (name) {
    console.log('Hi! This is ' + name + '!');
  };

  // Person('Li');
  //Person('Dan').sleep(1000).eat('dinner');
  // 输出：
  // Hi! This is Dan!
  // 等待10秒..
  // Wake up after 10
  // Eat dinner~

  // Person('Jerry').eat('dinner').eat('supper');
  // 输出：
  // Hi This is Jerry!
  // Eat dinner~
  // Eat supper~

  Person('Smith').sleepFirst(5000).eat('supper');
  // 输出：
  // 等待5秒
  // Wake up after 5
  // Hi This is Smith!
  // Eat supper


</script>
</body>
</html>
