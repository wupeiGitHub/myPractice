<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>vue_resource插件</title>
        <!-- 最新版本的 Bootstrap 核心 CSS 文件 -->
		<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
		<script src="node_modules/vue/dist/vue.js"></script>
		<script src="node_modules/vue-resource/dist/vue-resource.js"></script>
	</head>
	<body>
		<div id="app" class="container">
			<h1>vue-resource的API请求方式</h1>
			<a href="javascript:;" class="btn btn-primary" v-on:click="get">get请求</a>
			<a href="javascript:;" class="btn btn-primary" @click="post">post请求</a>
			<a href="javascript:;" class="btn btn-primary">jsonp请求</a>
			
			<div>get请求：{{msg}}</div>
		</div>
        <script>
			new Vue({
				el : "#app",
				data:{
					msg : ''
				},
				methods:{
					get : function(){
						this.$http.get('package.json',{
							params:{
									userId:"101"
							},
							headers:{
									token :"test"
							}
						}).then(res=>{
							this.msg = res.data; //成功信息
						},err=>{
							this.msg = err; //错误信息
						});
					},
					post: function(){
						this.$http.post('package.json',
							{userId:"102"},
							{
								headers:{
									access_token :"test2"
								}
							}
						).then(
							function(res){
								this.msg = res.body; //成功信息
							},
							function(err){
								this.msg = err; //失败信息
							}
						);
					}
				},
				//jsonp：进行跨域
				jsonp : function(){
					this.$http.jsonp("http://www.baidu.com",{
						this.msg = res.data;
					});
					
				}
			});
        </script>
	</body>
</html>
